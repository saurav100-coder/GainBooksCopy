@{
    ViewData["Title"] = "TaskProgressNotes";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var cc1 = new CustomerControl.Variables("WebGodaddy"); 
    var df1 = new DataFunctions.DataFunctions(ref cc1);
    var D = df1.GetDateTimeISTNow().ToString("yyyy-MM-dd");
}



@*@Optimization.Scripts.Render("~/bundles/ManageTasksComm")*@
@*@Optimization.Styles.Render("~/Content/Manage_Contacts")*@

@*Added by aslam for multiselect dropdown css*@
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>

<link rel="stylesheet" href="~/Content/Custom/dropdown.css" />
<script src="~/Scripts/Custom/dropdown.js"></script>

<link rel="stylesheet" href="~/Content/Custom/ManageTasksComm.css" />
<link href="~/Content/Custom/CommonPage.css" rel="stylesheet" />
<link rel="stylesheet" href="~/Content/Custom/GridCss.css" />
<link rel="stylesheet" href="~/Content/Custom/DetailPane.css" />
@*<link rel="stylesheet" href="~/Content/FrameWork/dataTables.bootstrap.min.css" />*@
<link rel="stylesheet" href="~/Content/FrameWork/jquery.contextMenu.css" />
<link rel="stylesheet" href="~/Content/FrameWork/jquery.datetimepicker.min.css" />
<link rel="stylesheet" href="~/Content/Custom/ManageRegCalls_Context.css" />
<script src="~/Scripts/FrameWork/jquery.datetimepicker.full.min.js"></script>
<script src="~/Scripts/FrameWork/jquery.contextMenu.js"></script>
<script src="~/scripts/Custom/ManageTasksComm.js"></script>
<script src="~/scripts/Custom/BasicFilter.js"></script>
<script src="~/Scripts/Custom/SortnFilterGrid.js"></script>



<script>
    $(document).ready(function () {
        $(window).resize(function () {
            $("tbody");
        });
    });
</script>
<style>
    .bootstrap-select > .dropdown-toggle {
        margin: 10px 0px 0px 2px;
        font-size: 11px;
        outline: none;
        border: none;
    }

    /*table {
        border-collapse: collapse;
        overflow: auto;
    }*/

    thead {
        /*overflow: auto;*/
    }

    tbody {
        overflow: auto;
    }

    .content {
        height: 480px;
    }

    .disabledbutton {
        pointer-events: none;
        opacity: 0.4;
    }

    .loader, .loader:after {
        border-radius: 50%;
        width: 40px;
        height: 40px;
    }

    .asidenav {
        height: 87%;
    }

    .menu {
        height: 106%;
    }

    .loader {
        margin: 0px auto;
        font-size: 10px;
        position: relative;
        text-indent: -9999em;
        border-top: 3px solid rgba(0,0,0, 0.2);
        border-right: 3px solid rgba(0,0,0, 0.2);
        border-bottom: 3px solid rgba(0,0,0, 0.2);
        border-left: 3px solid #1DA3E6;
        -webkit-transform: translateZ(0);
        -ms-transform: translateZ(0);
        transform: translateZ(0);
        -webkit-animation: load8 1.1s infinite linear;
        animation: load8 1.1s infinite linear;
    }

    #loading{
        margin:15% auto;
    }

    @@-webkit-keyframes load8 {
        0% {
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
        }

        100% {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }

    @@keyframes load8 {
        0% {
            -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
        }

        100% {
            -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }

    /*.resultContent {
        border: #d9d5d0 1px solid;
        margin: 15px;
        border-radius: 3px;
        background-color: #f9f9f9;
    }*/

        /*.resultContent p {
            margin: 0px !important;
            padding: 6px;
            font-size: 12px;
        }*/

    .closebn:hover {
        background-color: #ddd;
        border-radius: 50%;
        color: #246399;
    }
    
</style>
<div class="RemarkMessage" @*style="display: none; position:fixed; width:25%;"*@>
    <span id="Content">  </span>
    <span class="closebn" onclick="this.parentElement.style.display='none';">&times;</span>
</div>

<div class="left">
    <div class="search1" style="border: none;">
        <div class="g">
            <label id="info"></label>

            <a class="btn btn-default disabledbutton" title="" data-placement="bottom" data-toggle="Previous" id="Prev" data-original-title="Prev">
                <i class="fa fa-angle-left" style="font-size:19px"></i>
            </a>
            <a class="btn btn-default" title="" data-placement="bottom" data-toggle="Next" id="Next" data-original-title="Next">
                <i class="fa fa-angle-right" style="font-size:19px"></i>
            </a>
        </div>
    </div>
    <div class="calHeightIcon">

        <div class="icon-div">
            <div class="search2">
                <a class="top" title="" data-placement="bottom" data-toggle="tooltip" data-trigger="hover" style="text-align:left;cursor:pointer;" onclick="ReloadGrid()" data-original-title="Refresh">
                    <img src="~/images/icon-refresh.png" />

                </a>
                <a class="top btn-Filter" title="" data-placement="bottom" data-toggle="tooltip" data-trigger="hover" style="text-align:left;cursor:pointer;" onclick="ShowFilters();" data-original-title="Advance Filter">
                    <img src="~/images/icon-filter.png" />

                </a>

            </div>

            <input type="text" id="remarkByFilter" class="quickSearch" onkeyup="searchRemarkBy();"  placeholder="Search by RemarkBy">

            <div id="dropdown" class="search" style="display: inline-flex;   margin-left: 0px; padding-left:10px; width:68%;position:relative;align-items: center; ">
                @*<select class="" id="filter" style="cursor: pointer; height: 26px; top: 10px; padding-left: 5px; width: auto; border: none; border-bottom: 1px solid #ddd; padding-bottom: 0px; outline: none; font-size: 13px; padding">
                    <option value="0">Filter By</option>
                    <option value="1">No filter</option>
                </select>*@
@*
                <div id="dateC" style="display:none;" class="filterDiv">
                    <div class="datedisplay" style="display: flex; align-items: baseline;">
                        <div class="" style="">
                            <label class="ee" style="margin-left: 15px; margin-right: 10px; font-size: 11px; color: #337ab7; ">   From </label>
                        </div>
                        <input type="date" id="min" class="" style="display: inline-flex; height: 26px;  border: none; outline: none; border-bottom: 1px solid #ddd;" value="@D" max="@D" />

                        <div class="" style="">
                            <label class="ww" style="margin-left: 15px; margin-right: 10px; font-size: 11px; color: #337ab7;">  To </label>
                        </div>
                        <input type="date" id="max" class="" style="display: inline-flex; height: 26px;  border: none; outline: none; border-bottom: 1px solid #ddd;" value="@D" max="@D" />
                        <div id="search2" onclick="DateSearch();" class="searchButton date" style="margin-left:5px;"><i class="glyphicon glyphicon-search"></i></div>
                    </div>
                </div>

                <div id="TextC" class="filterDiv" style="display:none;">
                    <div class="t" style="display: flex; align-items: baseline;">
                        <input type="text" id="filterText" class="" placeholder="Type to search" style="display: inline-flex; height: 26px; padding-left: 5px; margin-left: 20px; width: 120px; border: none; outline: none; border-bottom: 1px solid #ddd;" />
                        <div id="search1" onclick="DoSearch();" class="searchButton"><i class="glyphicon glyphicon-search"></i></div>
                    </div>
                </div>
                <div id="StatusC" class="filterDiv" style="display:none;">
                    @Html.List_Search("StatusFilter", "49", "-Select Status-",0,"", new {@class = "", @style = "height:26px; margin:10px 0px 0px 20px; width:auto; padding-left:0px; border:none; outline:none; border-bottom:1px solid #ddd;"}, false)
                </div>
                <div id="remarkByC" class="filterDiv" style="display:none;">
                    @Html.List_Search("RemarkBy", "- Select Employee -", "accmaster", "accname", "p_acccode", "rowstatus=0 and acctype = 3042 and status='Y' and (updateflag<>'D' or updateflag is null)", 0,"", new {@class = "", @style = "height:26px; margin:10px 0px 0px 20px; width:auto; padding-left:0px; border:none; outline:none; border-bottom:1px solid #ddd;"}, true)
                </div>

                <div id="tagsC" class="filterDiv" style="display:none;">
                    <div style="display:inline-flex; ">
                        @Html.List_Search("Tags", "68", "-Select Tag-", 0,"", new {@class = "", @style = "height:26px; margin:10px 0px 0px 20px; width:auto; padding-left:0px;top:10px; border: none; border-bottom: 1px solid #ddd;padding-bottom: 0px;outline: none;font-size: 11px;"}, false, true)
                        <div id="btnTagSearch" onclick="tagSearch();" class="searchButton" style="display:none;"><i class="glyphicon glyphicon-search"></i></div>
                    </div>
                </div>
                <div class="closebn filterclose" onclick="removeFilter()" title="" data-placement="bottom" data-toggle="tooltip" data-trigger="hover" data-original-title="Remove Filter" style="display:none;margin-left: 10px; font-size: 20px; height:30px; width:30px; place-self: center; cursor:pointer; color:#808080; text-align:center;">&times;</div>
               *@

               <p class="basicFilterTitle"  onclick="ShowCloseBasicFilter();"><span>Select Filter</span> <i class="fa fa-caret-down"></i></p>
                        <div id="filterDiv" class="basicfilterDiv">
                            <table id="basicFilterTable">
                                <tbody></tbody>
                                <tfoot>
                                    <tr>
                                    <td colspan="3" style="text-align:center;">
                                        <div id="search1" onclick="ApplyBasicFilters();" class="btn modalbutton ">Apply<i class="glyphicon glyphicon-search" style="top:3px; padding-left:5px;"></i></div>
                                        <button type="button" class="btn modalbuttonsecondary" onclick="ShowCloseBasicFilter();">Close</button>
                                    </td>
                                </tr>
                                </tfoot>
                            </table>
                        </div>
                       


                <div id="FilterText" class="" style="float:left; display:none; margin-top: 10px;margin-left:15px; font-size:13px; border-bottom:1px solid #ddd; width: auto; padding:2px 5px 0px 5px; height:26px;bottom:34px;">
                    <b>
                        <p id="fText" style="float:left; margin-bottom:0px; margin-right:10px;  margin-top :-1px;"></p>
                        <a class='' id='' onclick='ReloadGrid();'>
                            <i class='glyphicon glyphicon-remove'></i>
                        </a>
                    </b>
                </div>
            </div>


        </div>
        <div class="resultDiv" style="display:none;margin-top: 5px;">
                    <div class="resultContent">
                        <div class="result-msg">
                        </div>
                        <p class="clearFilter" onclick="removeFilter();">Clear Filter</p>
                    </div>
                </div>
    </div>


    <input type="hidden" name="Logintype" id="Logintype" value="@httpContextAccessor.HttpContext?.Session.GetString("logintype")" />
    <form action="" method="post" id="customer">
        @Html.AntiForgeryToken()

        <input type="hidden" name="grid1" id="fvalue" value="@ViewBag.Message">

        @*<div class=" horizontal">*@
        <table class="col-md-12 text-center Table-Dive" id="examples">
            <thead class="calHeightTaskBar" style="padding-left:5px; padding-right:3px;">
                <tr class="TaskBar tr bg-primary" style="padding-right:0;">
                    <th class="select tbHead" style="width: 5%; text-align: right; padding: 0 10px 0 0px;">SNo.</th>
                    <th class="TaskId tbHead" style="width: 7%; padding: 0 8px 0 0px; text-align: left;"> Task Id </th>
                    <th class="Date tbHead" style="width: 9%; padding: 0 8px 0 13px; text-align: left; ">  Date </th>
                    <th class="Title tbHead" style="width: 23%; padding: 0 8px 0 13px; text-align: left;">Title</th>
                    @*<th class="Remark" style="width:10%;">Remark</th>*@
                    <th class="Remark tbHead" style="width: 20%; padding: 0 8px 0 15px; text-align: left;">Progress Notes</th>
                    @*   <th class="TaskDescription tbHead" style="width: 20%; padding: 0 8px 0 8px;">Task Description</th>*@
                    <th class="RemarkBy tbHead" style="width: 12%; padding: 0 8px 0 13px; text-align: left;">Progress Notes By</th>
                    <th class="TaskStatus td h tbHead" style="width: 13%; padding: 0 8px 0 6px; text-align: left;"><b>Tag</b></th>
                    <th class="File h tbHead" style="width: 8%; padding: 0 8px 0 0px; text-align: left;">File</th>
                </tr>
                <tr id="loading"><td colspan="8"><div id="loadingmessage" class="loader overlay col-md-offset-6"></div><p id="Msg"></p></td></tr>

            </thead>

            <tbody style="display: inline-block; margin-left: 5px; font-family: Source Sans Pro,Helvetica Neue,Helvetica,Arial,sans-serif; margin-right: 10px; width: 99%; height:0;" id="example">
            </tbody>


        </table>
        @*</div>*@

    </form>
</div>

<div class="right">
    <div class="detailPane">
        <div class="row detailpaneIconrow">
            <i class="fa fa-arrow-right" id="RightShift" aria-hidden="true"></i>
            <div class="save">
                @*<span id="ShareLink" onclick="CreateLink();" style="cursor:pointer"><img src="~/images/share-icon.png" alt="CreatesubTask" style="width:19px; float:right; margin-right:17px;cursor:pointer"></span>*@
                @*<span id="addSubTask" onclick="AddSubTask();"><img src="~/images/new-task1.png" alt="CreatesubTask" style="width:24px; float:right; margin-right:17px;cursor:pointer"></span>*@
                <a id="CloseTask" onclick="ShowCloseTaskModal();"><img src="~/images/i-close.png" alt="CloseTask" class="detailpaneIcon tooltips"><span class="tooltiptext closetask">Close Task</span></a>
                @*  <a id="ShareLink" onclick="CreateLink('@desktop');"><img src="~/images/icon-share.png" alt="Share" class="detailpaneIcon tooltips"><span class="tooltiptext share">Share</span></a>*@
                @*  <a id="addSubTask" onclick="AddSubTask();"><img src="~/images/copy.png" alt="CreatesubTask" class="detailpaneIcon tooltips"><span class="tooltiptext createsub">Add subtask</span></a>*@
                <span id="editIcon" onclick="ShowEditTask();"><img src="~/images/edit2.png" alt="Edit" class="detailpaneIcon tooltips" style="margin-right:0px; width:22px; margin-top:-2px;"><span class="tooltiptext edit">Edit</span></span>
                @*<button id="SaveTask" onclick="SubmitEditTask('@desktop');" class="btn button btnSave" type="button">Save</button>*@
                <span id="SaveTask" onclick="SubmitEditTask();" style="display: none;"><img src="~/images/save.png" alt="Save" class="detailpaneIcon tooltips"><span class="tooltiptext saveedit">Save</span></span>
                <span id="CancleEdit" onclick="CancleEditTask();" style="display:none;"><img src="~/images/icon-cancel.png" alt="Cancle" class="detailpaneIcon tooltips" style="margin-right:0px"><span class="tooltiptext cancel">Cancel</span></span>

            </div>
        </div>
        @*<div class="ShareBox" style="display:none; padding: 15px; border: 1px solid #ddd; border-radius: 4px; margin-bottom: 25px; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1), 0 6px 20px 0 rgba(0, 0, 0, 0.1); ">
                <label>Share Link</label> <span class="closebn" onclick="this.parentElement.style.display = 'none';" style="float:right; cursor:pointer;">&times;</span>
                <div class="Box" style="display: flex;">
                    <input type="text" style="width:83%; border: 1px solid #ddd;  margin-right:0px; outline:none;" />
                    <button id="copylinkbtn" class="btn btn-primary" type="button" data-clipboard-target="#downloadlink" style="float: right; font-size: 13px; padding: 5px; padding-top: 2px; padding-bottom: 2px; display: inline-flex; border-radius:0px; margin-left:0px;">Copy link</button>
                </div>
            </div>*@


        <div class="topnavbar">
            <a class="active" onclick="homedata()" id="homedata">Home</a>
            <a class="unactive" onclick="progressdata()" id="progressdata">Progress</a>
            <a class="unactive" onclick="edithistorydata()" id="edithistorydata">History</a>
            <a class="unactive" onclick="collaboratordata()" id="collaboratordata">Collaborator</a>
            <a class="unactive" onclick="classificationdata()" id="classificationdata">Classification</a>
        </div>
        <section class="editSection editSectiondata" id="details">
            @*<div class="task-id">
                    <span>Id -</span> <span id="taskid"></span>
                    <span style="display:none" id="taskkey"></span>
                </div>*@
            <div class="x-id">
                <p><span id="tasktitle"></span> <span>( Id -</span> <span id="taskid"></span><span>)</span></p>
                <span style="display:none" id="taskkey"></span>
                @*<span style="float:right; font-weight:normal; font-size:12px;" id="subtask"></span>*@
            </div>

            <div class="x-title">

                <textarea id="txttasktitle" style="display:none;"> </textarea>
            </div>

            <div class="x-desc">
                @* <span id="spc">Task Description</span>*@
                <p id="taskdescription"></p>
                <textarea id="txttaskdescription" style="display:none;"></textarea>

            </div>

            <div class="dates">
                <p>Start Date <span id="startdate"></span></p>
                @*<p>Due Date <span id="duedate"></span><span style="float: right; font-size: 13px;  font-weight: lighter;  "><input type="date" id="dtduedate" name="dtduedate" style="display: none;border: 1px solid #ddd; padding:3px; border-radius:4px;width:165px;outline:none;"></span></p>*@
                <p>Due Date <span id="duedate"></span><span style="float: right; font-size: 13px;  font-weight: lighter;  "><input type="datetime-local" id="dtduedate" name="dtduedate" style="display: none;border: 1px solid #ddd; padding:3px; border-radius:4px;width:165px;outline:none;"></span></p>
                <p>
                    TaskStatus
                    <span id="taskstatus"></span>
                    <span style="float:right; font-size:10px; border:1px; font-weight:lighter;">
                        @Html.List_Search("ddlTaskStatus", "49", "Select Status",0 ,"", new {@style = "padding-left:2px;display:none; border:1px solid #ddd; width:165px; border-radius:4px;"}, false)
                    </span>
                </p>
                @*<p>Next Action Date <span id="mNextActionDate"></span><span style="float:right; font-size:10px; border:1px; font-weight:lighter;"><input type="date" id="dtmNextActionDate" name="dtmNextActionDate" width="1" style="display: none;"></span></p>*@
                <p>
                    Assigned To
                    <span id="assignedto"></span>
                    <span style="float:right; font-size:10px; border:1px; font-weight:lighter;">
                        @Html.List_Search("ddlAssignedto", "- Select Employee -", "accmaster", "accname", "p_acccode", "rowstatus=0 and acctype = 3042 and status='Y' and (updateflag<>'D' or updateflag is null)",0 , "", new {@style = "padding-left:2px;  display:none; border:1px solid #ddd; border-radius:4px;width: 165px;"})
                    </span>
                </p>
                <p>Created By<span id="creadtedby"></span></p>
            </div>
        </section>

        <section class="AddRemarkDetailView" id="remarks">
            @*<div class="remarklabel">Remark</div>*@
            <div class="remarklabel">Progress Notes</div>
            <form id="frmRemarkRight">
                <textarea id="txtRemark"></textarea>
                <div class="row">
                    <input type="file" name="remarkfile" id="remarkfile" class="x-fileInput">
                    @*<button class="btn button" type="button" onclick="SubmitTaskRemarkNew();" style="float: right; background-color: #337ab7; width: auto; color: white; border-radius: 50px; padding-top: 2px; padding-bottom: 2px; ">Add Remark</button>*@
                    <button class="btn btnAddRemark" type="button" onclick="SubmitTaskRemarkNew();">Add </button>
                </div>
            </form>
        </section>

        <div class="tabSection">
            <ul class="tabs-navWeb row">
                <li class="" id="list1">
                    @*<a href="#remarkTab" rel="nofollow">Remark History</a>*@
                    <a href="#remarkTab" rel="nofollow">Progress Notes</a>
                </li>
                <li class="tab-activeWeb " id="list2">
                    <a href="#Webtab-2" rel="nofollow">Assignment History</a>
                </li>
                <li class="tab-activeWeb " id="list4">
                    @*<a href="#Webtab-3" rel="nofollow">Edit History</a>*@
                    <a href="#taskeditTab" rel="nofollow" id="list3" onclick="showEditHistoryTab();">Edit History</a>
                    <h3 id="edithead">Edit History</h3>
                </li>
            </ul>
            <div class="tabs-stageWeb bgImage">
                <div class="div" id="remarkTab">
                    <div id="boxLoading" @*style="padding:10px;"*@>
                        <div colspan="5">
                            <div id="boxLoadingMessage" class="loader overlay col-md-offset-6">
                            </div>
                        </div>
                    </div>
                    <div id="AllRemarks">

                    </div>

                    @*<div class="RemarkHistoryItem col-sm-12" style="margin-bottom:12px; border-radius:5px; background-color:#f3f8fa; padding:10px;" id="">

                            <div class="line1 " style="display:flex; overflow: hidden;">  <span class="">1</span>   <div class=""><i class="fa fa-comment" style="padding-right:8px;"></i></div>  <div style="">remark Content here</div></div>
                            <div class="line2"><span class="Remarkuser"><i class="fa fa-user" aria-hidden="true"></i>User Name</span><span class="Remarkdate" style="float:right;"><i class="fa fa-calendar"></i>25-11-2021 10:33:00</span></div>
                            <div class="line3"><span class="upload">Uploaded File :</span><a href="/txt/Filelink" class="filenam">FileName</a></div>
                        </div>*@

                </div>
                <div class="div" id="Webtab-2" style="display: none;">

                </div>
                @*<div class="div" id="Webtab-3" style="display: none;"></div>*@
                <div class="div" id="taskeditTab" style="display: none;">
                    <div id="boxLoading">
                        <div colspan="5">
                            <div id="boxLoadingMessage" class="loader overlay col-md-offset-6" style="padding: 10px; margin-top: 20%;">
                            </div>
                        </div>
                    </div>
                    <div id="allActivity">

                    </div>
                </div>
            </div>
        </div>


        <div class="SectionCollaborators" id="collaborators">
            <div class="row">
                @*<i class="fa fa-users x-icon"></i>*@
                <img src="~/images/icon-Collaborators.png" class="icon-image" />
                <span class="x-heading">Collaborators</span>
                <span id="AddCollabFromList">
                    @Html.List_Search("ddlCollab", "- Select Employee -", "accmaster", "accname", "p_acccode", "rowstatus=0 and acctype = 3042 and status='Y' and (updateflag<>'D' or updateflag is null)", 0, "", new {@onChange = "SubmitCollaboratorsNew();", @style = "width:auto;  display:none;"})

                    @*<span class="closebn closeAdd" id="closeAddCollab" onclick="closeAddCollab('@desktop')">&times;</span>*@
                    <img src="/images/icon-cancel.png" alt="Cancle" class="deleteCollabIcon closeAdd" id="closeAddCollab" onclick="closeAddCollab()" @*style="margin-right:12px;margin-top:4px;"*@>
                </span>
                <span id="AddCollab" class="addIcon" onclick="AddCollaboratorsNew();">
                    @*<i class="fa fa-user-plus"></i>*@
                    <img src="~/images/add-collaborator.png" class="icon-image" />
                </span>
            </div>
            <div class="boxx">
                <div id="boxLoading">
                    <div colspan="5">
                        <div id="boxLoadingMessage" class="loader overlay col-md-offset-6">
                        </div>
                    </div>
                </div>
                <div id="AllCollab" class="bgImage"></div>
            </div>
        </div>


        <!--<div class="task-classification" style="margin-bottom:3px;">
        <div class="row" style="margin-bottom:3px; padding-left:15px; padding-right:15px;">
            <i class="fa fa-tag"></i>
            <span style="display: inline-flex;">Task Classification</span>
            <span id="AddTagFromList" style="padding:0px;">-->
        @*@Html.List_Search("ddlCollab", "- Select Employee -", "accmaster", "accname", "p_acccode", "rowstatus=0 and acctype = 3042 and status='Y' and (updateflag<>'D' or updateflag is null)", , "", new {.onChange = "SubmitCollaboratorsNew();", .style = "width:auto;display: none;"})*@
        <!--@Html.List_Search("ddlTags", "68", "-Select Tag-",0,"", new {@onChange = "SubmitTagsNew();", @style = "width:auto; display:none;"}, false)
                <span class="closebn" id="closeTag" onclick="closeTag()" style="float: right; cursor: pointer; display: none; ">&times;</span>
            </span>
            <span id="PlusTag" onclick="AddTagsNew();" style="float: right;cursor: pointer; "><i class="fa fa-plus"></i></span>
        </div>
        <div class="boxx">
            <div id="boxLoading">
                <div colspan="5">
                    <div id="boxLoadingMessage" class="loader overlay col-md-offset-6">
                    </div>
                </div>
            </div>
            <div class="tag-container" id="tag-container" style="display:grid;">-->
        @*<div class="TagsBoxx" id="">
                <span id="TagName" style="padding-left:10px; display: inline-flex; font-size: 13px; font-weight:300; color:black;">DemoTag</span>
                <span class="closebn" id="" onclick="" style="float: right; display: inline-flex; cursor: pointer; ">&times;</span>
            </div>*@
        <!--</div>
            </div>
        </div>-->
        <div class="task-classification" id="classification">
            <div class="row">
                @*<i class="fa fa-tag x-icon"></i>*@
                <img src="~/images/tag.png" class="icon-image" />
                <span class="x-heading">Classification</span>
                <span id="AddTagFromList">
                    @Html.List_Search("ddlTags", "68", "-Select Tag-",0,"", new {@onChange = "SubmitTagsNew();", @style = "width:auto; display:none;"}, false)

                    @*<span class="closebn closeAdd" id="closeTag" onclick="closeTag('@desktop')">&times;</span>*@
                    <img src="/images/icon-cancel.png" alt="Cancle" class="deleteCollabIcon closeAdd" id="closeTag" onclick="closeTag()">
                </span>
                <span id="PlusTag" class="addIcon" onclick="AddTagsNew();">
                    @*    <i class="fa fa-plus"></i>*@
                    <img src="~/images/classification.png" class="icon-image iconAddTag" />
                </span>
            </div>
            <div class="boxx">
                <div id="boxLoading">
                    <div colspan="5">
                        <div id="boxLoadingMessage" class="loader overlay col-md-offset-6">
                        </div>
                    </div>
                </div>
                <div class="tag-container bgImage" id="tag-container"></div>
            </div>
        </div>
    </div>
    @*asideNav*@
    <section class="asidenav">
        <nav class="menu">
            <a href="#" id="detailtop" onclick="asidenavActive('#detailtop', '#details')" class="menu__item menu__item--active asidenav-tab">
                @*<i class="fa fa-home"></i>*@
                <img src="~/images/icon-home.png" />
            </a>
            <a href="#" class="menu__item asidenav-tab" id="remarktop" onclick="asidenavActive('#remarktop', '#remarks')">
                @*<i class="fa fa-envelope" aria-hidden="true"></i>*@
                <img src="~/images/icon-progress note.png" />
            </a>
            <a href="#" class="menu__item asidenav-tab" id="collabtop" onclick="asidenavActive('#collabtop', '#collaborators')">
                @*<i class="fa fa-users"></i>*@
                <img src="~/images/icon-Collaborators.png" />
            </a>
            <a href="#" class="menu__item asidenav-tab" id="tagtop" onclick="asidenavActive('#tagtop', '#classification')">
                @*<i class="fa fa-tags"></i>*@
                <img src="~/images/tag.png" />
            </a>
        </nav>
    </section>

</div>


<div class="modal fade" id="RemarkDate">
    <div class="modal-dialog" role="form">
        <div class="modal-content">
            <div class="modal-header" style="border:none; padding:0px">
                <span class="close" data-dismiss="modal" style="padding:6px 12px 6px 12px">&times;</span>
                @*<a href="@Url.Action("ManageTasksComm")" Class="btn close"><span aria-hidden="true">&times;</span></a>*@

            </div>
            <div class="modal-body" style="padding-bottom:0px; padding-top:0px;">
                <h4 style="text-align:center; font-size:18px; margin-top:0px;" class="modal-title">  </h4>
                <hr style="margin-top:10px; margin-bottom:0px; width:80%" />
                <div id="RemarkD" class="col-md-12">
                    <input type="hidden" name="TeamTaskDate" id="TeamTaskDate" value="">
                    <form Class="form-horizontal" role="form" method="post" id="dateSearchInTaskComm">
                        <div class="form-group">
                            <label class="col-sm-4 control-label" style="padding-top:20px; text-align:right">From:</label>
                            <div class="col-sm-5" style="padding-left:0px; padding-top:20px">
                                <input type="date" value="@D" name="Date" onchange="dateChange(this.value,this.id)" style="width:200px" id="frmDate" /><br />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-4 control-label" style="padding-top:0px; text-align:right">To:</label>

                            <div class="col-sm-5" style="padding-left:0px; padding-top:0px">
                                <input type="date" value="@D" name="Date" style="width:200px" id="toDate" /><br />
                            </div>
                        </div>
                        <div class="form-group">
                            <input type="hidden" name="calledBy" id="calledBy" value="">
                            <label class="col-sm-4 control-label" style="padding-top:0px">Select Employee</label>
                            @Html.List_Search("EmpId", "- Select Employee -", "Employees", "EmpName", "Employees_Key", "", 0, "", new {@onChange = "", @style = "padding-left:2px; border-radius:0px; padding-right:0px; margin:0px; width:200px"})
                        </div>
                        <div class="form-group text-center" style="clear:both; margin:20px 0px 10px 50px">
                            <input type="submit" Class="btn btn-primary" style="margin-top:0px; margin-right:25px" value="Submit" />
                            @* <a href="@Url.Action("ManageTasksComm")" Class="btn btn-default" style="margin-top:30px; margin-right:50px">Cancel</a>*@
                            <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-top:0px; margin-right:50px"> Cancel </button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer" style="border:none; text-align:center; padding-bottom:20px">
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="RemarkBy">
    <div class="modal-dialog" role="form">
        <div class="modal-content">
            <div class="modal-header" style="border:none; padding:0px">
                <span class="close" data-dismiss="modal" style="padding:6px 12px 6px 12px">&times;</span>
                @*<a href="@Url.Action("ManageTasksComm")" Class="btn close"><span aria-hidden="true">&times;</span></a>*@
            </div>
            <div class="modal-body " style="padding-bottom:0px; padding-top:0px;">
                <h4 style="text-align:center; font-size:18px; margin-top:0px;" class="modal-title"></h4>
                <hr style="margin-top:10px; margin-bottom:30px; width:80%" />
                <form Class="form-horizontal" role="form" method="post" id="TeamRemarkBy">
                    <input type="hidden" name="TeamTaskRemark" id="TeamTaskRemark" value="">
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true, " Check details. Please Fill Form Correctly.", new {@class = "text-danger"})
                    <div class="form-group">
                        <input type="hidden" name="calledBy" id="calledBy" value="">
                        <label class="col-sm-4 control-label" style="padding-top:0px">Select Employee</label>
                        @Html.List_Search("EmployeeId", "- Select Employee -", "Employees", "EmpName", "Employees_Key", "", 0, "", new {@onChange = "", @class = "form-control input-sm", @style = "padding-left:2px; border-radius:0px; padding-right:0px; margin:0px; width:202px"})
                    </div>

                    <div Class="text-center" style="margin:20px 0px 10px 50px">
                        <input type="submit" Class="btn btn-primary" style="margin-top:30px; margin-right:25px" value="Submit" />
                        <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-top:30px; margin-right:50px"> Cancel </button>
                        @*<a href="@Url.Action("ManageTasksComm")" Class="btn btn-default" style="margin-top:30px; margin-right:50px">Cancel</a>*@
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="border:none; text-align:center; padding-bottom:20px">
            </div>
        </div>
    </div>
</div>





@*Advance filter Modal*@
<input type="hidden" name="grid1" id="afvalue" value="@ViewBag.filterString">
<input type="hidden" name="grid1" id="svalue" value="@ViewBag.sortString">


<!--new design-->
<div class="modal fade" id="FilterModel">
    <div class="modal-dialog">
        <div class="modal-content" style="border-radius: 2px; width: 670px;">
            <div class="modal-body" style="height: 400px;  overflow-y:scroll;">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>

                <div role="tabpanel">
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs" role="tablist">
                        <li role="presentation" class="active">
                            <a href="#filterTab" aria-controls="filterTab" role="tab" data-toggle="tab">Filters</a>

                        </li>
                        <li role="presentation">
                            <a href="#sortTab" aria-controls="sortTab" role="tab" data-toggle="tab">Sort</a>

                        </li>
                    </ul>
                    <!-- Tab panes -->
                    <div class="tab-content" style="margin-top:10px;">
                        <div role="tabpanel" class="tab-pane active" id="filterTab">
                            <div id="addfilter" onclick="AddFilters();" style="color: #337ab7; margin-left: 7px; margin-bottom: 10px; border-radius: 50px; padding: 2px 4px; font-size: 14px; font-weight: 500; vertical-align: top; cursor: pointer;">New Filter <i class="glyphicon glyphicon-plus" style="padding-left:5px; font-size:11px; "></i> </div>@*Add Filter Options dropdown*@
                            <table id="filterTable"></table>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="sortTab">
                            <div id="addsortOptions" onclick="AddSortingOptions();" style="color: #337ab7; margin-left: 7px; margin-bottom: 10px; margin-left: 7px; margin-bottom: 10px; border-radius: 50px; padding: 2px 4px; font-size: 14px; font-weight: 500; vertical-align: top; cursor: pointer; ">New Sort Option<i class="glyphicon glyphicon-plus" style="padding-left:5px; font-size:11px; "></i> </div>@*Add Sort Options dropdown*@
                            <table id="sortingTable"></table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <div id="clearFilters" onclick="removeFilter2();" class="btn modalbutton">Clear<i class="glyphicon glyphicon-remove" style="top:3px; padding-left:5px;"></i></div>@*clear filter values*@
                <div id="search1" onclick="ApplyFilters2();" class="btn modalbutton ">Apply <i class="glyphicon glyphicon-search" style="top:3px; padding-left:5px;"></i></div>
                <button type="button" class="btn modalbuttonsecondary" data-dismiss="modal">Close</button> @*close modal popup*@

            </div>
        </div>
    </div>
</div>




<div class="modal fade" id="TaskClose">
    <div class="modal-dialog" role="form">
        <div class="modal-content">
            <div class="modal-header" style="border:none; padding:0px">
                @*<a href="@Url.Action("ManagePendingTasks")" Class="btn close"><span aria-hidden="true">&times;</span></a>*@
                <span class="close" data-dismiss="modal" style="padding:6px 12px 6px 12px">&times;</span>
            </div>
            <div class="modal-body" style="padding-bottom:0px; padding-top:0px;">
                @*<h4 style="text-align:center; font-size:18px; margin-top:0px;" class="modal-title"></h4>*@
                <div id="TaskClosedContent" class="col-md-12"></div>
                @*<div class="form-group text-center" style="clear:both; margin:0px 0px 10px 50px">
                        <a  Class="btn btn-primary" data-dismiss="modal" style="margin-top:20px; width:66px; margin-right:30px">Ok</a>
                    </div>*@
            </div>
            <div class="modal-footer" style="border:none; text-align:center; padding-bottom:15px">
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="TaskCloseModal">
    <div class="modal-dialog" role="form">
        <div class="modal-content modal-body">
            <span class="close" data-dismiss="modal">&times;</span>
            <h4 class="modal-title" style="text-align: center;padding-top: 10px;padding-left: 30px;"></h4>
            <div style="text-align: center;">
                <p>Do you want to Close This Task?</p>
            </div>
            <div Class="text-center" style="margin:1.25em 0px 0.625em 3.125em">
                <Button type="button" Class="btn btn-primary" style="background-color: #105faf; margin-right: 8px; margin-top: 1.25em " onclick="CloseTask()"> Close </Button>
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-right:3.125em; margin-top:1.25em"> Cancel </button>
            </div>
        </div>
    </div>
</div>

